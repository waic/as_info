<description>
  <SuccessCriteria>
    <number>7.1.3.1</number>
    <name>情報及び関係性に関する達成基準</name>
    <level>A</level>
  </SuccessCriteria>
  <testType>HTMLandXHTML</testType>
  <rownumber>27</rownumber>
  <id>H85-1</id>
  <実装方法タイトル>optgroup要素を用いて、select要素内のoption要素をグループ化する</実装方法タイトル>
  <対象>optgroup要素のlabel属性（select要素のセレクトメニュー）</対象>
  <見解>要注意</見解>
  <代替もしくは推奨する方法>
    <body>例えば選択肢の数が100を超えるような場合には、select要素を分けるなどして、利用者が段階的に選んでいけるような別の方法を用いたほうがよいことがある。
あわせて、あらかじめ選択肢の数をできるだけ絞り込むことが望ましい。</body>
  </代替もしくは推奨する方法>
  <注意点>
    <body>select要素を用いる際には、あらかじめ選択肢の数をできるだけ絞り込むことが重要である。
また、optgroup要素のラベルがなくても、選択肢（option要素）の文言だけで正確に理解できるかどうかに注意する必要がある（optgroup要素のラベルと組み合わせなければ理解・区別できない選択肢の文言は避けるべきである）。</body>
  </注意点>
  <備考>optgroup要素を用いることによって、見た目には選択肢のグループ分けが明確になるが、スクリーンリーダーによるサポートが不十分である。しかし、使用することによる悪影響はなく、スクリーンリーダーの今後の機能向上に期待する。</備考>
  <testDetail>
    <result useragent="Internet Explorer 6.0">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
      <操作手順>マウスでクリックすれば問題なく表示されるが、キーボード操作ではヘルプに掲載されていない操作（alt＋↓or↑）で表示</操作手順>
    </result>
    <result useragent="Internet Explorer 7.0">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
      <操作手順>マウスでセレクトメニューを選んだとき、グルーピングされた状態（例えば「フルーツ」が「リンゴ」、「バナナ」、「桃」をグルーピングしたラベルであること）を確認
しかし、キーボード↓↑で操作するとグルーピングのラベル（「フルーツ」）を見ることができない。</操作手順>
      <備考>Alt + ↓or↑で見ることはできるが、この操作はキー操作集にない</備考>
    </result>
    <result useragent="Internet Explorer 8.0">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
      <操作手順>セレクトメニュー内で「フルーツ」が太字になって、各選択肢はインデント表示されているため、「フルーツ」が「リンゴ」、「バナナ」、「桃」、「みかん」をグルーピングしたラベルであることが分かる。野菜、焼菓子も同様。</操作手順>
    </result>
    <result useragent="Internet Explorer 9">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
      <操作手順>1:マウスでセレクトメニューを選んだとき、「フルーツ」（太字）が「リンゴ」、「バナナ」、「桃」、「野菜」（太字）が「にんじん」「キュウリ」「ピーマン」、「焼菓子」（太字）を「アップルパイ」「チョコレートケーキ」でグルーピングしたラベルであることが表示されているか確認</操作手順>
      <備考>Alt+↓でセレクトメニューのリストを展開しグルーピングを確認することが可能</備考>
    </result>
    <result useragent="Firefox 3.5">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
      <操作手順>マウスでセレクトメニューを選んだとき、グルーピングされた状態（例えば「フルーツ」が「リンゴ」、「バナナ」、「桃」をグルーピングしたラベルであること）を確認
しかし、キーボード↓↑で操作するとグルーピングのラベル（「フルーツ」）を見ることができない。</操作手順>
      <備考>Alt + ↓or↑で見ることはできるが、この操作はキー操作一覧表にない</備考>
    </result>
    <result useragent="Firefox 4.0">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
      <操作手順>1:マウスでセレクトメニューを選んだとき、グルーピングされた状態（例えば「フルーツ」が「リンゴ」、「バナナ」、「桃」をグルーピングしたラベルであること）を確認</操作手順>
      <備考>Alt+↓でセレクトメニューのリストを展開しグルーピングを確認することが可能</備考>
    </result>
    <result useragent="Firefox 9.0">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
      <操作手順>マウスでセレクトメニューを選んだとき、「フルーツ」（太字）が「リンゴ」、「バナナ」、「桃」、「野菜」（太字）が「にんじん」「キュウリ」「ピーマン」、「焼菓子」（太字）を「アップルパイ」「チョコレートケーキ」でグルーピングしたラベルであることが表示されているか確認</操作手順>
      <備考>Alt+↓でセレクトメニューのリストを展開しグルーピングを確認することが可能</備考>
    </result>
    <result useragent="Safari 3.2">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
      <操作手順>セレクトメニュー内の選択肢がグルーピングされているのを確認。</操作手順>
      <備考>○：キーボード操作でフォーカスがあたって矢印キーを動かすとジャンプメニューが表示され、見出しとともにグルーピングされていることが確認できる。</備考>
    </result>
    <result useragent="Safari 5.0.3">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
    </result>
    <result useragent="JAWS for Windows 9.0">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>×</検証結果>
      <操作手順>■操作手順
セレクトメニューにフォーカスを当ててEnterを押すと項目が選択できるが「リンゴ」「バナナ」「桃」とひとつづつしか読み上げない。また「にんじん」のときには何も読み上げなくなる（本来グループの「野菜」の項目になっていると推測される）（フォームモードオンで確認）
■音声読み上げ
「リンゴ」
「バナナ」
「桃」
・・・・</操作手順>
      <備考>ひとつづつしか読み上げない</備考>
    </result>
    <result useragent="ホームページ・リーダー 3.04">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>×</検証結果>
      <操作手順>■操作手順
セレクトメニュー内でEnterを押し→で先に進むと最初「フルーツ」「リンゴ」は一緒に読み上げられるが、次の「バナナ」「桃」「みかん」ではフルーツは読み上げられない。「野菜」「焼菓子」についても同様。
■音声読み上げ
「 (フォーム1 の先頭。)　好きな食べ物は何ですか？　(選択メニューの先頭: 9 項目。) [縮小。] リンゴ [選択中。]　(選択メニューの終わり。)　 (フォーム1 の終わり。)」</操作手順>
      <備考>Homepage Readerでは対応していない模様</備考>
    </result>
    <result useragent="PC-Talker XP 3.06">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>×</検証結果>
      <操作手順>■操作手順
セレクトメニュー内でグルーピングしたラベルがわかるようには読み上げない。
■音声読み上げ
「好きな食べ物は何ですか？ のコンボボックス　選択りんご」</操作手順>
      <備考>セレクトメニュー内でグルーピングされている「フルーツ」などは読み上げられなかった。</備考>
    </result>
    <result useragent="PC-Talker XP 3.06 + NetReader 1.18">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>×</検証結果>
      <操作手順>■操作手順
セレクトメニュー内の選択肢が、optgroup要素のlabel属性値でグルーピングされていることが分かるように読み上げなかった。（例：「フルーツ」が、「リンゴ」、「バナナ」、「桃」、「みかん」をグルーピングしたラベルであることが分かるように読み上げなかった）
■音声読み上げ
「好きな食べ物は何ですか　クエスチョン　選択　リンゴ　スペースで選択」</操作手順>
    </result>
    <result useragent="FocusTalk V3">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>×</検証結果>
      <操作手順>■操作手順
１．Tabキーでコンボボックスにフォーカスを移動すると「コンボボックス　りんご、50分の18」と読み上げる。
２．Enterキーを押すと、リストボックスウィンドウが開かれ、「リストボックスウィンドウのメッセージ　好きな食べ物は何ですか？　OK、エスケープはキャンセル」と読み上げる。
３．下矢印キーを押すと、「リスト項目　リンゴ　バナナ　桃　みかん・・・」と読み上げる。
■音声読み上げ
「リスト項目　リンゴ　バナナ　桃　みかん・・・」</操作手順>
      <備考>リストボックスを開くと、optgroupの属性値：フルーツ、野菜、焼菓子は表示されない。</備考>
    </result>
    <result useragent="NVDA 2010.1j">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
      <操作手順>■操作手順
コンボボックスに入り上下の矢印キーを使って項目間を移動すると、グループをまたぐたびに「フルーツ、野菜、小菓子」と読み上げられ、続いて項目名とグループ内での位置が読み上げられた。
■音声読み上げ
「好きな食べ物はなんですか　コンボボックスクローズサブメニュー　リンゴ」
「好きな食べ物は何ですか　リンゴクローズサブメニュー1の4レベル2　バナナ2の4レベル2　、桃3の4レベル2　ミカン4の4レベル2
野菜見出し2の3　にんじん1の3レベル2　キュウリ２の3レベル2　ピーマン3の3レベル2
小菓子見出し33の3　アップルパイ1の2　チョコレートケーキ2の2」</操作手順>
    </result>
    <result useragent="NVDA 2011.1">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>×</検証結果>
      <操作手順>■操作手順
コンボボックス内で上下の矢印キーを使って項目間を移動しても、リンゴ、バナナ、モモ、ミカン、ニンジンなどの個別の項目名は読み上げられるものの、フルーツや野菜などのグループ名は読み上げられなかった。
■音声読み上げ
「好きな食べ物はなんですか　コンボボックスクローズサブメニュー　リンゴ」
「好きな食べ物は何ですか　リンゴクローズサブメニュー1の4レベル2　バナナ2の4レベル2　、桃3の4レベル2　ミカン4の4レベル2
にんじん1の3レベル2　キュウリ２の3レベル2　ピーマン3の3レベル2
アップルパイ1の2　チョコレートケーキ2の2」</操作手順>
    </result>
    <result useragent="Firefox18.0.1">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
      <操作手順>マウスでセレクトメニューを選んだとき、「フルーツ」（太字）が「リンゴ」、「バナナ」、「桃」、「野菜」（太字）が「にんじん」「キュウリ」「ピーマン」、「焼菓子」（太字）を「アップルパイ」「チョコレートケーキ」でグルーピングしたラベルであることが表示されているか確認</操作手順>
      <備考>Alt+↓でセレクトメニューのリストを展開しグルーピングを確認することが可能</備考>
    </result>
    <result useragent="Google Chrome 25">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
      <操作手順>【1】セレクトメニュー内の選択肢が、optgroup要素のlabel属性値でグルーピングされた状態で表示されるか（例：「フルーツ」が「リンゴ」、「バナナ」、「桃」、「みかん」をグルーピングしたラベルであることが分かるように、セレクトメニュー内で「フルーツ」を太字にして、各選択肢をインデント表示する）を確認する。</操作手順>
      <備考>【1】○
セレクトメニュー内の選択肢が、次のようにグルーピングされた状態で表示されることを確認した。
“フルーツ”（太字）の下に“リンゴ”“バナナ”“桃”“みかん”、
“野菜”（太字）の下に“にんじん”“キュウリ”“ピーマン”、
“焼菓子”（太字）の下に“アップルパイ”“チョコレートケーキ”</備考>
    </result>
    <result useragent="Safari 6.0.5">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>○</検証結果>
      <備考>「フルーツ」「野菜」「焼菓子」は太字ではなくグレーの文字で表示され、それぞれにグルーピングされた細目はインデントして表示される</備考>
    </result>
    <result useragent="NVDA 2012.3">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>×</検証結果>
      <操作手順>■操作手順
コンボボックス内で上下の矢印キーを使って項目間を移動しても、リンゴ、バナナ、モモ、ミカン、ニンジンなどの個別の項目名は読み上げられるものの、フルーツや野菜などのグループ名は読み上げられなかった。
■音声読み上げ
「好きな食べ物はなんですか　コンボボックスクローズサブメニュー　リンゴ」
「好きな食べ物は何ですか　リンゴクローズサブメニュー1の4レベル2　バナナ2の4レベル2　、桃3の4レベル2　ミカン4の4レベル2
にんじん1の3レベル2　キュウリ２の3レベル2　ピーマン3の3レベル2
アップルパイ1の2　チョコレートケーキ2の2」</操作手順>
    </result>
    <result useragent="PC-Talker 7 2.12">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>×</検証結果>
      <操作手順>■操作手順
セレクトメニューに移動後、上下矢印キーで選択肢を変更。その後、[実行]ボタンに移動してEnterキーを押下。
■音声読み上げ
Ctrl＋下矢印キー、またはTabキー
「好きな食べ物は何ですか？ 　のコンボボックス　選択　リンゴ」
下矢印キー
「バナナ」
下矢印キー
「桃」
下矢印キー
「みかん」
下矢印キー
「にんじん」</操作手順>
      <備考>optgroup要素を完全に無視している</備考>
    </result>
    <result useragent="VoiceOver">
      <rownumber>113</rownumber>
      <id>H85-1</id>
      <検証結果>×</検証結果>
      <操作手順>■操作手順
1.セレクトメニューの読み上げ開始時に、optgroup要素がいくつあるかを読み上げなかった。
2.optgroup要素のラベルを読み上げる際、optgroup要素がいくつあって、そのoptgroup要素が全体の中で何番目のoptgroup要素なのかが分かるように読み上げない。
3.optgroup要素の切り替わる位置が分かるように読み上げない。
4.各選択肢を読み上げる際、同じoptgroup要素内にoption要素がいくつあって、そのoption要素が何番目のoption要素なのかが分かるように読み上げない。
5.キーボード操作でoptgroup要素間をジャンプできない。
■音声読み上げ
「好きな リンゴ ピッカー項目 調整可能 値を調整するには1本指で上または下にスワイプします」
「バナナ 桃 ミカン
野菜 にんじん キュウリ ピーマン
焼菓子 アップルパイ チョコレートケーキ」</操作手順>
    </result>
  </testDetail>
</description>