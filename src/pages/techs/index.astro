---
/**
 * 達成方法一覧ページ
 * 元: pages/techs/index.tsx
 */
import BaseLayout from '../../layouts/BaseLayout.astro';
import Logo from '../../components/Logo.astro';
import Navigation from '../../components/Navigation.astro';
import { getTechs, getMetadata } from '../../lib/data';

const metadata = await getMetadata();
const techs = await getTechs();
const base = import.meta.env.BASE_URL;
---

<BaseLayout title="達成方法(テクニック)の一覧">
  <Logo />
  <main id="main">
    <h1>アクセシビリティ サポーテッド（AS）情報</h1>
    <ul>
      <li>作成者：{metadata.author}</li>
      {metadata.status && <li>注記：{metadata.status}</li>}
    </ul>

    <h2>達成方法(テクニック)の一覧</h2>
    <ul>
      {Object.keys(techs).map((key) => (
        <li>
          <a href={`${base}techs/${key}.html`}>
            {key} {techs[key].title}
          </a>
        </li>
      ))}
    </ul>
  </main>

  <Navigation showCriteriaLink />
</BaseLayout>
